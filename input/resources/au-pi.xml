<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="au-pi" />
  <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm">
    <valueInteger value="0"/> 
  </extension>
  <url value="http://hl7.org.au/fhir/StructureDefinition/au-pi" />
  <name value="AUPatientInternalIdentifier" />
  <title value="AU Patient Internal Identifier" />
  <status value="draft" />
  <description value="This identifier profile defines a patient internal identifier in an Australian context. A patient internal identifier is an identifier assigned to a patient within an application instance, such as on-premise practice management system, multi-tenant cloud based electronic medical record application, or other clinical information systems including those used in pharmacy, laboratory, or imaging settings. It is not intended for sharing across systems and should not be confused with a Medical Record Number (MR)." />
  <kind value="complex-type" />
  <abstract value="false" />
  <type value="Identifier" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Identifier" />
  <derivation value="constraint" />
  <differential>
    <element id="Identifier">
      <path value="Identifier" />
      <short value="Patient internal identifier" />
      <definition value="Identifier assigned to a patient within an application, for example a practice management system, with the expectation that subsequent exchanges with other applications may return this PI to aid in patient matching. A PI is not intended for broad sharing or for use as a strong key." />      
    </element> 
    <element id="Identifier.type">
      <path value="Identifier.type" />
      <min value="1"/>
      <patternCodeableConcept>
        <coding>
          <system value="http://terminology.hl7.org/CodeSystem/v2-0203" />
          <code value="PI" />
        </coding>
      </patternCodeableConcept>
    </element>
    <element id="Identifier.system">
      <path value="Identifier.system" />
      <short
             value="System identifier namespace for the application that assigned the patient internal identifier"/>
      <min value="1" /> 
    </element>
    <element id="Identifier.value">
      <path value="Identifier.value" />
      <short value="Patient internal identifier" />
      <min value="1" />          
    </element>
    <element id="Identifier.assigner">
      <path value="Identifier.assigner" />
      <short value="Organisation that assigned the patient internal identifier" />
      <min value="1" />
    </element>
    <element id="Identifier.assigner.display">
      <path value="Identifier.assigner.display" />
      <short value="Name of the assigning organisation" />
      <min value="1" />
    </element>
  </differential>
</StructureDefinition>
