<?xml version="1.0" encoding="UTF-8"?>
<Observation xmlns="http://hl7.org/fhir">
    <id value="healthprogramparticipation-example1"/>
    <meta>
        <profile value="http://hl7.org.au/fhir/StructureDefinition/au-healthprogramparticipation"/>
    </meta>
    <!--Scenario: Deffered Due to Travel (2022)
    Scenario Description: Participant was invited to screen, deffered screening for 10 months due to travel.  
    Information recorded by BreastScreen QLD -->
    <status value="final"/>
    <!-- new code system & code proposed for this work -->
    <category>
        <coding>
            <system value="http://terminology.hl7.au.org/CodeSystem/observation-category"/>
            <code value="program"/>
            <display value="Program"/>
        </coding>
        <text value="Cancer screening program"/>
    </category>
    <code>
        <coding>
            <system value="http://snomed.info/sct"/>
            <code value="1602091000168107"/>
            <display value="Breast cancer screening program participation"/>
        </coding>
        <text value="BreastScreen Australia Program Program Participation"/>
    </code>
    <subject>
        <reference value="Patient/hi-testdata-goodwin-bonny"/>
        <identifier>
            <type>
                <coding>
                    <system value="http://terminology.hl7.org/CodeSystem/v2-0203"/>
                    <code value="NI"/>
                    <display value="National unique individual identifier"/>
                </coding>
                <text value="IHI"/>
            </type>
            <system value="http://ns.electronichealth.net.au/id/hi/ihi/1.0"/>
            <value value="8003608000228445"/>
        </identifier>
    </subject>
    <!--Records date this program participation information is asserted as 'true' -->
    <effectiveDateTime value="2022-05-14"/>
    <!--BreastScreen Queensland-->
    <performer>
        <identifier>
            <type>
                <coding>
                    <system value="http://terminology.hl7.org/CodeSystem/v2-0203"/>
                    <code value="XX"/>
                </coding>
                <text value="ABN"/>
            </type>
            <system value="http://hl7.org.au/id/abn"/>
            <value value="66329169412"/>
        </identifier>
    </performer>
    <!--1.	Program participation status -->
    <component>
        <code>
            <coding>
                <system value="http://snomed.info/sct"/>
                <code value="TBD"/>
                <display value="Program participation status"/>
            </coding>
            <text value="Participation status"/>
        </code>
        <valueCodeableConcept>
            <coding>
                <system value="http://snomed.info/sct"/>
                <code value="1601981000168101"/>
                <display value="Participation temporarily suspended"/>
            </coding>
            <text value="Deferred next screening"/>
        </valueCodeableConcept>
    </component>
    <!--2.	Program participation status validity period -->
    <component>
        <code>
            <coding>
                <system value="http://snomed.info/sct"/>
                <code value="TBD"/>
                <display value="Program participation status validity period"/>
            </coding>
            <text value="Participation status period"/>
        </code>
        <!--Patient deferred for 10 months so keeps status of active screening for a 10 month period-->
        <valuePeriod>
            <start value="2022-05-14"/>
            <end value="2023-03-14"/>
        </valuePeriod>
    </component>
    <!--3.	Reason for not participating -->
    <component>
        <code>
            <coding>
                <system value="http://snomed.info/sct"/>
                <code value="TBD"/>
                <display value="Reason for not participating"/>
            </coding>
            <text value="Reason for deferral"/>
        </code>
        <valueCodeableConcept>
            <coding>
                <system value="http://snomed.info/sct"/>
                <code value="TBD"/>
                <display value="Going to travel"/>
            </coding>
            <text value="Travelling"/>
        </valueCodeableConcept>
    </component>
</Observation>
